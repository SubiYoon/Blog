#!/usr/bin/env -S just --justfile
# just reference  : https://just.systems/man/en/

@dev:
    npm --inspect-brk run dev

@stop port:
	echo "ğŸ” í¬íŠ¸ {{port}} ì ìœ  í”„ë¡œì„¸ìŠ¤ë¥¼ ê²€ìƒ‰ ì¤‘..." && \
	lsof -t -i :{{port}} | tee /tmp/pids.txt | grep -q . && \
	( pids=$(cat /tmp/pids.txt) && \
	echo "ğŸ”ª í”„ë¡œì„¸ìŠ¤ ì¢…ë£Œ ì¤‘: $pids" && \
	kill -9 $pids && \
	echo "âœ… í¬íŠ¸ {{port}}ë¥¼ ì‚¬ìš©í•˜ëŠ” í”„ë¡œì„¸ìŠ¤ë¥¼ ì¢…ë£Œí–ˆìŠµë‹ˆë‹¤." ) || \
	( echo "â„¹ï¸ í¬íŠ¸ {{port}}ë¥¼ ì‚¬ìš©í•˜ëŠ” í”„ë¡œì„¸ìŠ¤ê°€ ì—†ìŠµë‹ˆë‹¤." ) && \
	rm -f /tmp/pids.txt
